{% extends "layouts/base.html" %}

{% block body %}
<div class="container-lg p-5" id="main_post_container">
  <h4>Add Posts:</h4>
  <form action="{{ url_for('posts') }}" method="POST">
    <div class="mb-3">
      <label for="post" class="form-label">Post Title</label>
      <input type="text" class="form-control" id="post_title" name="post_title">
    </div>
    <div class="mb-3">
      <label for="post_subreddit" class="form-label">Subreddit</label>
      <input type="text" class="form-control" id="post_subreddit" name="post_subreddit">
    </div>
    <div class="mb-3">
      <label for="post_username" class="form-label">Username</label>
      <input type="text" class="form-control" id="post_username" name="post_username">
    </div>
    <div class="mb-3">
      <label for="post_body" class="form-label">Body</label>
      <input type="text" class="form-control" id="post_body" name="post_body">
    </div>
    <div class="mb-3">
      <label class="form-label" for="num_upvotes">Upvotes</label>
      <input type="number" class="form-control" id="num_upvotes" name="num_upvotes">
    </div>
    <div class="mb-3">
      <label for="post_date" class="form-label">Date</label>
      <input type="date" class="form-control" id="post_date" name="post_date">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<hr />

<div class="container-fluid" id="main_post_containter">
  <h1 class="display-6" id="post_heading">Current Posts</h1>

  <div class="container-md" id="post_container">
    <table class="table" id="post_table">
      <thead>
        <th>ID</th>
        <th>Post Title</th>
        <th>Body</th>
        <th>Upvotes</th>
        <th>Post Date</th>
        <th>Subreddit</th>
        <th>Username</th>
        <th>Edit</th>
        <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        {% if post_data|length == 0 %}
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        {% else %}
          {% for row in post_data %}
          <tr class="table_row">
            <td>{{ row['postID']}}</td>
            <td>{{ row['title']}}</td>
            <td>{{ row['body']}}</td>
            <td>{{ row['numUpvotes']}}</td>
            <td>{{ row['postDate']}}</td>
            <td>{{ row['subredditName']}}</td>
            <td>{{ row['username']}}</td>
            <td class="button_columns">
              <input class="btn btn-outline-secondary btn-block" value="Update" type="button">
              <input type="hidden" id="update">
            </td>
            <td class="button_columns">
              <input class="btn btn-outline-secondary btn-block" value="Delete" type="button">
              <input type="hidden" id="delete">
            </td>
          </tr>
          {% endfor %}
        {% endif %}
      </tbody>
    </table>
  </div>

</div>

{% endblock %}